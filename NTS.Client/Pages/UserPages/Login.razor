@page "/"
@page "/login"
@inherits LoginBase
@layout LoginLayout


<MudLayout>
    <MudContainer>
        <MudCard Class="w-full" Elevation="5">
            <MudContainer>
                <MudTextField T="string"
                              Label="Email"
                              @bind-Value="loginDto.Email"
                              Variant="Variant.Outlined"
                              FullWidth />

                <MudTextField T="string"
                              Label="Password"
                              @bind-Value="loginDto.Password"
                              Variant="Variant.Outlined"
                              FullWidth
                              InputType="@showPasswordUtil.InputType"
                              Adornment="Adornment.End"
                              AdornmentIcon="@showPasswordUtil.Icon"
                              OnAdornmentClick="ShowPasswordClick" />

                @if (!string.IsNullOrEmpty(responseDto.ErrorMessage))
                {
                    <MudAlert Severity="Severity.Error" Dense="true">@responseDto.ErrorMessage</MudAlert>
                }

                <MudButton Class="mt-4"
                           Variant="Variant.Filled"
                           Color="Color.Primary"
                           FullWidth
                           OnClick="HandleLoginClick">
                    Login
                </MudButton>

                <MudLink OnClick="() => OpenForgotPasswordDialog()">Forgot Password?</MudLink>
            </MudContainer>
        </MudCard>
    </MudContainer>
</MudLayout>

